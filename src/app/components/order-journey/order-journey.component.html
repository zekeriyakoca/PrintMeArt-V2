<div class="relative">
  <!-- Desktop connector line -->
  <div
    class="hidden lg:block absolute top-6 left-[calc(12.5%+24px)] right-[calc(12.5%+24px)] h-0.5 bg-gradient-to-r from-[#384f8c]/20 via-[#384f8c]/40 to-[#384f8c]/20">
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-6">
    @for (step of steps; track $index) {
    <div class="group text-center">
      <!-- Step number badge + Icon -->
      <div class="relative inline-flex flex-col items-center mb-6 px-4 bg-white">
        <!-- Step number -->
        <span
          class="absolute -top-2 right-1 w-6 h-6 rounded-full bg-[#384f8c] text-white text-xs font-bold flex items-center justify-center shadow-md z-10">
          {{ $index + 1 }}
        </span>

        <!-- Icon container -->
        <div
          class="w-12 h-12 rounded-xl bg-[#384f8c]/10 flex items-center justify-center transition-all duration-300 group-hover:bg-[#384f8c] group-hover:shadow-lg group-hover:scale-110">
          @switch (step.icon) {
          @case ('browse') {
          <svg class="w-6 h-6 text-[#384f8c] group-hover:text-white transition-colors duration-300" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7" rx="1" />
            <rect x="14" y="3" width="7" height="7" rx="1" />
            <rect x="3" y="14" width="7" height="7" rx="1" />
            <rect x="14" y="14" width="7" height="7" rx="1" />
          </svg>
          }
          @case ('cart') {
          <svg class="w-6 h-6 text-[#384f8c] group-hover:text-white transition-colors duration-300" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z" />
            <line x1="3" y1="6" x2="21" y2="6" />
            <path d="M16 10a4 4 0 0 1-8 0" />
          </svg>
          }
          @case ('shipping') {
          <svg class="w-6 h-6 text-[#384f8c] group-hover:text-white transition-colors duration-300" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="1" y="3" width="15" height="13" rx="2" />
            <path d="M16 8h4l3 3v5a1 1 0 0 1-1 1h-2" />
            <circle cx="5.5" cy="18.5" r="2.5" />
            <circle cx="18.5" cy="18.5" r="2.5" />
          </svg>
          }
          @case ('enjoy') {
          <svg class="w-6 h-6 text-[#384f8c] group-hover:text-white transition-colors duration-300" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" />
            <circle cx="8.5" cy="8.5" r="1.5" />
            <path d="M21 15l-5-5L5 21" />
          </svg>
          }
          }
        </div>
      </div>

      <!-- Content -->
      <div>
        <h3 class="font-semibold text-slate-900 mb-2">{{ step.title }}</h3>
        <p class="text-sm text-slate-500 leading-[1.8rem] max-w-[220px] mx-auto">{{ step.description }}</p>
      </div>
    </div>
    }
  </div>
</div>