<div class="contained-page lg:mt-10">
  <app-custom-design-how-it-works />

  <!-- Main Designer Section -->
  <div class="container py-8 lg:py-12 space-y-12 lg:space-y-12">
    <div class="nc-SectionHero flex flex-col md:flex-row relative" data-nc-id="SectionHero">
      <!-- Left Section - Upload & Preview -->
      <div class="w-full md:w-8/12">
        <!-- Upload Section -->
        <app-custom-design-upload 
          (imageUrlSelected)="onImageUrlSelected($event)"
          (imageUploaded)="onImageUploaded($event)"
          (uploadError)="onUploadError($event)">
        </app-custom-design-upload>

        <!-- Preview Section -->
        <app-custom-design-preview [imageUrl]="imageUrl()" [isMatIncluded]="isMatIncluded()"
          [selectedFrameMaskUrl]="selectedFrameMaskUrl()" [isRolledUp]="isRolledUp()">
        </app-custom-design-preview>

        <!-- Purchase Sidebar (mobile only, after preview) -->
        <div class="md:hidden mt-8">
          <app-product-purchase-sidebar [(isMatIncluded)]="isMatIncluded" [product]="customProduct()"
            [customImageUrl]="uploadedImageUrl()"
            (onSelectedFrameChanged)="onSelectedFrameChanged($event) "></app-product-purchase-sidebar>
        </div>
      </div>

      <!-- Purchase Sidebar (md+ only, right column) -->
      <div class="hidden md:block w-full md:w-4/12">
        <app-product-purchase-sidebar [(isMatIncluded)]="isMatIncluded" [product]="customProduct()"
          [customImageUrl]="uploadedImageUrl()"
          (onSelectedFrameChanged)="onSelectedFrameChanged($event) "></app-product-purchase-sidebar>
      </div>
    </div>
  </div>
  <app-custom-design-cta />
</div>
