<div class="cart-page">
  <div class="cart-container">
    <!-- Header -->
    <header class="cart-header">
      <div class="header-content">
        <h1 class="cart-title">Shopping Bag</h1>
        <span class="item-count">{{ cartItems().length }} {{ cartItems().length === 1 ? 'item' : 'items' }}</span>
      </div>
      <a routerLink="/" class="continue-link">
        <span>Continue shopping</span>
        <app-icon iconName="arrow-right" class="w-4 h-4"></app-icon>
      </a>
    </header>

    @if (cartItems().length === 0) {
    <div class="empty-cart">
      <div class="empty-icon">
        <app-icon iconName="empty-bag" class="w-16 h-16"></app-icon>
      </div>
      <h2 class="empty-title">Your bag is empty</h2>
      <p class="empty-text">Looks like you haven't added any art to your collection yet.</p>
      <a routerLink="/products" class="browse-btn">Browse Collection</a>
    </div>
    } @else {
    <div class="cart-content">
      <!-- Cart Items -->
      <div class="cart-items">
        @for (cartItem of cartItems(); track cartItem.id; let i = $index) {
        <app-cart-item [(cartItem)]="cartItems()[i]" (cartItemChanged)="triggerRecalculateSummary()" />
        }
      </div>

      <!-- Order Summary -->
      <aside class="cart-sidebar">
        <app-order-summary [cartItems]="cartItems()">
          <order-button>
            <button class="checkout-btn" (click)="navigateToCheckout()">
              <span>Proceed to Checkout</span>
              <app-icon iconName="arrow-right" class="w-[18px] h-[18px]"></app-icon>
            </button>
          </order-button>
        </app-order-summary>
      </aside>
    </div>
    }
  </div>
</div>